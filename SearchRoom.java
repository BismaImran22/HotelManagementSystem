package Hotel.Management.System;import javax.swing.*;import javax.swing.table.DefaultTableModel;import java.awt.*;import java.awt.event.ActionEvent;import java.awt.event.ActionListener;import java.io.*;import java.util.Vector;public class SearchRoom extends JFrame implements ActionListener {    // --- Standardized Theme Colors ---    private static final Color DARK_BACKGROUND = new Color(5, 5, 5);    private static final Color TABLE_HEADER_BG = new Color(115, 95, 16);    private static final Color TEXT_COLOR = Color.WHITE;    private static final Color ACCENT_COLOR = new Color(255, 215, 0); // Gold accent    private static final Color BUTTON_BG = Color.BLACK;    // ---------------------------------    JCheckBox checkBox;    Choice choice;    JTable table;    JButton searchButton, back;    SearchRoom(){        // --- Panel Setup ---        JPanel panel = new JPanel();        panel.setBackground(DARK_BACKGROUND);        panel.setBounds(5,5,690,490);        panel.setLayout(null);        add(panel);        // --- Title ---        JLabel searchForRoom = new JLabel("Search For Room");        searchForRoom.setBounds(250,11,200,31);        searchForRoom.setForeground(ACCENT_COLOR); // Use accent color for title        searchForRoom.setFont(new Font("Tahoma", Font.BOLD,20));        panel.add(searchForRoom);        // --- Bed Type Label and Choice ---        JLabel rbt = new JLabel("Room Bed Type:");        rbt.setBounds(50,73,150,20);        rbt.setForeground(TEXT_COLOR);        rbt.setFont(new Font("Tahoma", Font.BOLD,14));        panel.add(rbt);        choice = new Choice();        choice.setBounds(190,73,150,20);        choice.setBackground(TABLE_HEADER_BG); // Themed background        choice.setForeground(TEXT_COLOR); // Themed foreground        panel.add(choice);        // Add "All Bed Types" as the default option        choice.add("All Bed Types");        // File handling: Read all unique bed types from rooms.csv        try (BufferedReader br = new BufferedReader(new FileReader("rooms.csv"))) {            String line;            while ((line = br.readLine()) != null) {                String[] data = line.split(",", -1);                if (data.length > 4) { // Data Index 4 is Bed Type                    String currentBedType = data[4].trim();                    boolean exists = false;                    for (int i = 0; i < choice.getItemCount(); i++) {                        if (choice.getItem(i).equalsIgnoreCase(currentBedType)) {                            exists = true;                            break;                        }                    }                    if (!exists && !currentBedType.isEmpty()) {                        choice.add(currentBedType);                    }                }            }        } catch (IOException e) {            e.printStackTrace();            JOptionPane.showMessageDialog(this, "Error reading rooms.csv for bed types.");        }        // --- Check box for showing only available rooms ---        checkBox = new JCheckBox("Only Display Available");        checkBox.setBounds(400,73,200,20);        checkBox.setBackground(DARK_BACKGROUND);        checkBox.setForeground(TEXT_COLOR);        panel.add(checkBox);        // --- Table Setup ---        table = new JTable();        table.setBackground(DARK_BACKGROUND);        table.setForeground(TEXT_COLOR);        table.setRowHeight(25);        table.setGridColor(TABLE_HEADER_BG);        table.setSelectionBackground(TABLE_HEADER_BG.brighter());        // Customize Table Header Appearance        table.getTableHeader().setBackground(TABLE_HEADER_BG);        table.getTableHeader().setForeground(ACCENT_COLOR); // Gold Accent for headers        table.getTableHeader().setFont(new Font("Tahoma", Font.BOLD, 14));        table.getTableHeader().setReorderingAllowed(false);        table.getTableHeader().setResizingAllowed(true);        // Add table to a JScrollPane        JScrollPane scrollPane = new JScrollPane(table);        // Adjusted Y-position (150) and Height (290) to accommodate the table after removing manual headers.        scrollPane.setBounds(10, 150, 670, 290);        scrollPane.getViewport().setBackground(DARK_BACKGROUND); // Background color for rows        panel.add(scrollPane);        // Initial table load - SHOW ALL ROOMS        table.setModel(createTableModelFromFile("rooms.csv", null, false));        /* NOTE: The manual header labels are removed as the styled JTable header           handles the column names correctly within the JScrollPane. */        // --- Search button ---        searchButton = new JButton("Search");        searchButton.setBounds(200,455,120,30);        searchButton.setBackground(BUTTON_BG);        searchButton.setForeground(TEXT_COLOR);        searchButton.addActionListener(this);        panel.add(searchButton);        // --- Back button ---        back = new JButton("Back");        back.setBounds(380,455,120,30);        back.setBackground(BUTTON_BG);        back.setForeground(TEXT_COLOR);        back.addActionListener(e -> setVisible(false));        panel.add(back);        // --- Frame Settings ---        setUndecorated(true);        setLayout(null);        setSize(700,500);        // --- MANUAL CENTERING LOGIC ---        Dimension screenSize = Toolkit.getDefaultToolkit().getScreenSize();        int x = (screenSize.width - getWidth()) / 2; // Calculate X position        int y = (screenSize.height - getHeight()) / 2; // Calculate Y position        setLocation(x, y); // Set the calculated central position        // ------------------------------        setVisible(true);    }    @Override    public void actionPerformed(ActionEvent e) {        if (e.getSource() == searchButton) {            String selectedBedType = choice.getSelectedItem();            boolean onlyAvailable = checkBox.isSelected();            // Search logic - uses "rooms.csv"            table.setModel(createTableModelFromFile("rooms.csv", selectedBedType, onlyAvailable));        }    }    /**     * Helper to create table model from file (CSV-format: roomNo,availability,cleanStatus,price,bedType)     * Filters by bed type and optionally, availability status.     */    private static javax.swing.table.TableModel createTableModelFromFile(String fileName, String selectedBedType, boolean onlyAvailable) {        Vector<String> columnNames = new Vector<>();        columnNames.add("Room Number");        columnNames.add("Availability");        columnNames.add("Clean Status");        columnNames.add("Price");        columnNames.add("Bed Type");        Vector<Vector<String>> data = new Vector<>();        try (BufferedReader br = new BufferedReader(new FileReader(fileName))) {            String line;            while ((line = br.readLine()) != null) {                String[] row = line.split(",", -1);                if (row.length < 5) continue;                // Filtering Logic                boolean isAllSelected = selectedBedType != null && selectedBedType.equalsIgnoreCase("All Bed Types");                boolean matchesBed = isAllSelected || row[4].trim().equalsIgnoreCase(selectedBedType); // row[4] is Bed Type                boolean matchesAvail = !onlyAvailable || row[1].trim().equalsIgnoreCase("Available"); // row[1] is Availability                if (matchesBed && matchesAvail) {                    Vector<String> rowData = new Vector<>();                    for (int i = 0; i < 5; i++) rowData.add(row[i]);                    data.add(rowData);                }            }        } catch (IOException e) {            JOptionPane.showMessageDialog(null, "Error loading room data from " + fileName, "File Error", JOptionPane.ERROR_MESSAGE);        }        return new DefaultTableModel(data, columnNames);    }    public static void main(String[] args) {        new SearchRoom();    }}