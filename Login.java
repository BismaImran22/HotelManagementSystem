package Hotel.Management.System;import javax.swing.*;import java.awt.*;import java.awt.event.ActionEvent;import java.awt.event.ActionListener;import java.io.*;public class Login extends JFrame implements ActionListener {    // --- COLOR CONSTANTS FOR LUXURY THEME ---    private static final Color DARK_BACKGROUND = new Color(18, 18, 18); // Deep Black/Charcoal    private static final Color GOLD_ACCENT = new Color(255, 215, 0); // Rich Gold    private static final Color INPUT_BACKGROUND = new Color(30, 30, 30); // Slightly lighter charcoal for input    private static final Color TEXT_COLOR = Color.WHITE; // White text for input fields    // --- CSV File Configuration ---    private static final String CREDENTIALS_FILE = "login.csv";    // --- End CSV File Configuration ---    JTextField textField1;    JPasswordField passwordField1;    JButton b1, b2, b3; // b1=Login, b2=Cancel, b3=SignUp    Login() {        super("Hotel Management System - Login");        // Set the background color of the content pane to Dark Charcoal        getContentPane().setBackground(DARK_BACKGROUND);        setLayout(null);        // --- Username Label and Field ---        JLabel label1 = new JLabel("Username");        label1.setBounds(40, 20, 100, 30);        label1.setForeground(GOLD_ACCENT); // Gold text        label1.setFont(new Font("Serif", Font.BOLD, 16));        add(label1);        textField1 = new JTextField();        textField1.setBounds(150, 20, 150, 30);        textField1.setBackground(INPUT_BACKGROUND); // Dark field background        textField1.setForeground(TEXT_COLOR); // White input text        textField1.setCaretColor(GOLD_ACCENT); // Gold blinking cursor        add(textField1);        // --- Password Label and Field ---        JLabel label2 = new JLabel("Password");        label2.setBounds(40, 70, 100, 30);        label2.setForeground(GOLD_ACCENT); // Gold text        label2.setFont(new Font("Serif", Font.BOLD, 16));        add(label2);        passwordField1 = new JPasswordField();        passwordField1.setBounds(150, 70, 150, 30);        passwordField1.setBackground(INPUT_BACKGROUND); // Dark field background        passwordField1.setForeground(TEXT_COLOR); // White input text        passwordField1.setCaretColor(GOLD_ACCENT); // Gold blinking cursor        add(passwordField1);        // --- Login Button (Gold Accent) ---        b1 = new JButton("Login");        b1.setBounds(40, 140, 120, 30);        b1.setBackground(GOLD_ACCENT); // Gold primary button        b1.setForeground(Color.BLACK); // Black text for contrast        b1.setFont(new Font("Serif", Font.BOLD, 14));        b1.addActionListener(this);        add(b1);        // --- Cancel Button ---        b2 = new JButton("Cancel");        b2.setBounds(180, 140, 120, 30);        b2.setBackground(GOLD_ACCENT); // Dark button background        b2.setForeground(Color.BLACK); // White text        b2.setFont(new Font("Serif", Font.BOLD, 14));        b2.addActionListener(this);        add(b2);        // --- Sign Up Button ---        b3 = new JButton("Sign Up");        b3.setBounds(110, 190, 120, 30);        b3.setBackground(GOLD_ACCENT);        b3.setForeground(Color.BLACK); // Gold text        b3.setFont(new Font("Serif", Font.BOLD, 14));        b3.addActionListener(this);        add(b3);        // --- Image ---        // Ensure 'icon/logo.png' or a similar image is available in your classpath        try {            ImageIcon i1 = new ImageIcon(ClassLoader.getSystemResource("icon/login.png"));            Image i2 = i1.getImage().getScaledInstance(200, 200, Image.SCALE_DEFAULT);            ImageIcon i3 = new ImageIcon(i2);            JLabel image = new JLabel(i3);            image.setBounds(350, 10, 200, 200);            add(image);        } catch (Exception e) {            System.err.println("Could not load image: icon/logo.png");            // Optional: Add a simple text label if image fails to load            JLabel placeholder = new JLabel("LOGO");            placeholder.setBounds(400, 80, 100, 50);            placeholder.setForeground(GOLD_ACCENT);            add(placeholder);        }        // --- Frame Settings ---        setBounds(500, 200, 600, 300);        // FIX: Center the window on the screen        setLocationRelativeTo(null);        setVisible(true);    }    // --------------------------------------------------------------------------------    // --- CORE LOGIC: CSV FILE HANDLING ---    // --------------------------------------------------------------------------------    /**     * Checks if the provided username and password exist in the CREDENTIALS_FILE.     */    private boolean checkLogin(String username, String password) {        if (username.trim().isEmpty() || password.trim().isEmpty()) {            JOptionPane.showMessageDialog(this, "Username and Password cannot be empty.");            return false;        }        try (BufferedReader br = new BufferedReader(new FileReader(CREDENTIALS_FILE))) {            String line;            while ((line = br.readLine()) != null) {                String[] credentials = line.split(",", -1);                if (credentials.length >= 2) {                    // Check if both username (0) and password (1) match                    if (credentials[0].trim().equals(username) && credentials[1].trim().equals(password)) {                        return true;                    }                }            }        } catch (FileNotFoundException e) {            JOptionPane.showMessageDialog(this, "Login file not found. Please Sign Up first.", "File Error", JOptionPane.WARNING_MESSAGE);        } catch (IOException e) {            e.printStackTrace();            JOptionPane.showMessageDialog(this, "Error reading login credentials.", "Error", JOptionPane.ERROR_MESSAGE);        }        return false;    }    /**     * Checks if a username already exists in the CREDENTIALS_FILE.     */    private boolean checkUsernameExists(String username) {        try (BufferedReader br = new BufferedReader(new FileReader(CREDENTIALS_FILE))) {            String line;            while ((line = br.readLine()) != null) {                String[] credentials = line.split(",", -1);                if (credentials.length > 0 && credentials[0].trim().equals(username)) {                    return true;                }            }        } catch (FileNotFoundException e) {            // File not found is fine here, means no users exist yet        } catch (IOException e) {            e.printStackTrace();        }        return false;    }    /**     * Registers a new user by appending their credentials to the CREDENTIALS_FILE.     */    private boolean registerUser(String username, String password) {        if (username.trim().isEmpty() || password.trim().isEmpty()) {            JOptionPane.showMessageDialog(this, "Username and Password cannot be empty.");            return false;        }        if (checkUsernameExists(username)) {            JOptionPane.showMessageDialog(this, "Username already exists. Please login or choose another.", "Registration Failed", JOptionPane.WARNING_MESSAGE);            return false;        }        try (FileWriter fw = new FileWriter(CREDENTIALS_FILE, true);             PrintWriter pw = new PrintWriter(fw)) {            pw.println(username + "," + password);            JOptionPane.showMessageDialog(this, "Registration Successful! You can now login.");            return true;        } catch (IOException e) {            e.printStackTrace();            JOptionPane.showMessageDialog(this, "Error saving registration data.", "Error", JOptionPane.ERROR_MESSAGE);            return false;        }    }    // --------------------------------------------------------------------------------    // --- ACTION PERFORMED ---    // --------------------------------------------------------------------------------    @Override    public void actionPerformed(ActionEvent e) {        String username = textField1.getText();        String password = new String(passwordField1.getPassword());        if (e.getSource() == b1) { // Login Button            if (checkLogin(username, password)) {                JOptionPane.showMessageDialog(this, "Login Successful! Welcome.");                setVisible(false);                new Dashboard(); // Open the Dashboard window            } else {                JOptionPane.showMessageDialog(this, "Invalid Username or Password. Please try again or Sign Up.", "Login Failed", JOptionPane.ERROR_MESSAGE);            }        } else if (e.getSource() == b2) { // Cancel Button            System.exit(0);        } else if (e.getSource() == b3) { // Sign Up Button            registerUser(username, password);        }    }    public static void main(String[] args) {        new Login();    }}